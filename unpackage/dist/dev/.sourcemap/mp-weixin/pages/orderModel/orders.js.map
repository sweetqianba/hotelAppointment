{"version":3,"sources":["webpack:///D:/2019-暑-课设-前端/frontEnd/hotelAppointment/pages/orderModel/orders.vue","webpack:///D:/2019-暑-课设-前端/frontEnd/hotelAppointment/pages/orderModel/orders.vue?532e","webpack:///D:/2019-暑-课设-前端/frontEnd/hotelAppointment/pages/orderModel/orders.vue?b604","webpack:///D:/2019-暑-课设-前端/frontEnd/hotelAppointment/pages/orderModel/orders.vue?e010","webpack:///D:/2019-暑-课设-前端/frontEnd/hotelAppointment/pages/orderModel/orders.vue?70eb"],"names":["img","data","tabBar","orders","tabCur","evaluateStatus","evaluate","files","onShow","getOrderInfoByStatus","methods","tabSelect","e","currentTarget","dataset","id","TouchStart","ListTouchStart","touches","pageX","ListTouchStartY","pageY","ListTouchMove","touchDirection","Math","abs","ListTouchEnd","turnRight","turnLeft","uni","showToast","icon","title","toDetails","item","navigateTo","url","params","status","name","then","errno","catch","err","goPay","price","goCancel","showModal","content","success","res","cancel","orderId","goPayAgain","hotelId","goEvaluate","goRefund","cancelText","confirmText","data1","money","getStorageSync","Number","removeImg","index","splice","previewImage","current","urls","chooseImage","count","sizeType","sourceType","concat","tempFilePaths","uploadImg","file","Promise","resolve","reject","uploadFile","filePath","fail","submitEvaluate","JSON","parse","info","image","URL","detail","type","goFinish","watch","newValue","oldValue","mask","duration"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;;;AAGA;;;;;AAKA;;;AAGA;;;AAGA,oJ,CAtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAmBA,IAAMA,GAAG,GAAG,4FAAZ,C,eACe,EACdC,IADc,kBACP,CACN,OAAO,EACNC,MAAM,EAAEC,cAAOD,MADT,EAENE,MAAM,EAAE,CAFF,EAGNJ,GAAG,EAAEA,GAHC,EAINC,IAAI,EAAE,EAJA,EAKNI,cAAc,EAAE,KALV,EAMNC,QAAQ,EAAE,EANJ,EAONC,KAAK,EAAE,EAPD,EAAP,CASA,CAXa,EAYdC,MAZc,oBAYL,CACR,KAAKC,oBAAL,GACA,CAda,EAedC,OAAO,EAAE,EACRC,SADQ,qBACEC,CADF,EACK,CACZ,KAAKR,MAAL,GAAcQ,CAAC,CAACC,aAAF,CAAgBC,OAAhB,CAAwBC,EAAtC,CACA,CAHO,EAIR;AACAC,cALQ,sBAKGJ,CALH,EAKM,CACb,KAAKK,cAAL,GAAsBL,CAAC,CAACM,OAAF,CAAU,CAAV,EAAaC,KAAnC,CACA,KAAKC,eAAL,GAAuBR,CAAC,CAACM,OAAF,CAAU,CAAV,EAAaG,KAApC,CACA,CARO,EAUR;AACAC,iBAXQ,yBAWMV,CAXN,EAWS,CAChB,KAAKW,cAAL,GAAsB,IAAtB,CADgB,CAEhB,2BACA,IAAIC,IAAI,CAACC,GAAL,CAASb,CAAC,CAACM,OAAF,CAAU,CAAV,EAAaG,KAAb,GAAqB,KAAKD,eAAnC,IAAsD,EAAtD,IAA4DI,IAAI,CAACC,GAAL,CAASb,CAAC,CAACM,OAAF,CAAU,CAAV,EAAaC,KAAb,GAAqB,KAAKF,cAAnC,IAC/D,EADD,EACK,CACJ,KAAKM,cAAL,GAAsBX,CAAC,CAACM,OAAF,CAAU,CAAV,EAAaC,KAAb,GAAqB,KAAKF,cAA1B,GAA2C,CAA3C,GAA+C,OAA/C,GAAyD,MAA/E,CACA,CACD,CAlBO,EAoBR;AACAS,gBArBQ,wBAqBKd,CArBL,EAqBQ,CACf,IAAI,KAAKW,cAAL,IAAuB,MAA3B,EAAmC,CAClC,KAAKI,SAAL,GACA,CAFD,MAEO,IAAI,KAAKJ,cAAL,IAAuB,OAA3B,EAAoC,CAC1C,KAAKK,QAAL,GACA,CACD,CA3BO,EA4BRD,SA5BQ,uBA4BI,CACX,KAAKvB,MAAL,KAAgB,CAAhB,GACCyB,GAAG,CAACC,SAAJ,CAAc,EACbC,IAAI,EAAE,MADO,EAEbC,KAAK,EAAE,UAFM,EAAd,CADD,GAKC,KAAK5B,MAAL,EALD,CAMA,CAnCO,EAoCRwB,QApCQ,sBAoCG,CACV,KAAKxB,MAAL,KAAgB,CAAhB,GACCyB,GAAG,CAACC,SAAJ,CAAc,EACbC,IAAI,EAAE,MADO,EAEbC,KAAK,EAAE,UAFM,EAAd,CADD,GAKC,KAAK5B,MAAL,EALD,CAMA,CA3CO,EA4CR6B,SA5CQ,qBA4CEC,IA5CF,EA4CQ,CACfL,GAAG,CAACM,UAAJ,CAAe,EACdC,GAAG,EAAE,kCAAkCF,IAAI,CAACnB,EAD9B,EAAf,EAGA,CAhDO,EAiDRN,oBAjDQ,kCAiDe,kBACtB,IAAI4B,MAAM,GAAG,EACZC,MAAM,EAAE,KAAKpC,MAAL,CAAY,KAAKE,MAAjB,EAAyBmC,IADrB,EAAb,CAGA,IAAI,KAAKrC,MAAL,CAAY,KAAKE,MAAjB,EAAyBmC,IAAzB,IAAiC,IAArC,EAA2C,CAC1C,OAAOF,MAAM,CAACC,MAAd,CACA,CACD,kCAAqBD,MAArB,EAA6BG,IAA7B,CAAkC,UAAAvC,IAAI,EAAI,CACzC,IAAIA,IAAI,CAACwC,KAAL,IAAc,GAAlB,EAAuB,CACtB,KAAI,CAACxC,IAAL,GAAYA,IAAI,CAACA,IAAjB,CACA,CAFD,MAEO,CACN,KAAI,CAACA,IAAL,GAAY,EAAZ,CACA,CACD,CAND,EAMGyC,KANH,CAMS,UAAAC,GAAG,EAAI,CAAE,CANlB,EAOA,CA/DO,EAgER;AACAC,SAjEQ,iBAiEF3C,IAjEE,EAiEI,CACX4B,GAAG,CAACM,UAAJ,CAAe,EACdC,GAAG,EAAE,wCAAwCnC,IAAI,CAAC4C,KAA7C,GAAqD,MAArD,GAA8D5C,IAAI,CAACc,EAD1D,EAAf,EAGA,CArEO,EAsER;AACA+B,YAvEQ,oBAuEC7C,IAvED,EAuEO,mBACd4B,GAAG,CAACkB,SAAJ,CAAc,EACbf,KAAK,EAAE,IADM;AAEbgB,eAAO,EAAE,WAFI;AAGbC,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjB,cAAI,CAACA,GAAG,CAACC,MAAT,EAAiB;AAChB;AACA,gBAAMd,MAAM,GAAG;AACde,qBAAO,EAAEnD,IAAI,CAACc,EADA,EAAf;;AAGA,qCAAYsB,MAAZ,EAAoBG,IAApB,CAAyB,UAAAvC,IAAI,EAAI;AAChC,kBAAIA,IAAI,CAACwC,KAAL,IAAc,GAAlB,EAAuB;AACtB,sBAAI,CAAChC,oBAAL;AACAoB,mBAAG,CAACC,SAAJ,CAAc;AACbC,sBAAI,EAAE,MADO;AAEbC,uBAAK,EAAE,QAFM,EAAd;;AAIA;AACD,aARD,EAQGU,KARH,CAQS,UAAAC,GAAG,EAAI,CAAE,CARlB;AASA;AACD,SAnBY,EAAd;;AAqBA,KA7FO;AA8FR;AACAU,cA/FQ,sBA+FGpD,IA/FH,EA+FS;AAChB4B,SAAG,CAACM,UAAJ,CAAe;AACdC,WAAG,EAAE,+BAA+BnC,IAAI,CAACqD,OAD3B,EAAf;;AAGA,KAnGO;AAoGR;AACAC,cArGQ,sBAqGGtD,IArGH,EAqGS;AAChB,WAAKI,cAAL,GAAsB,IAAtB;AACA,WAAKC,QAAL,CAAc8C,OAAd,GAAwBnD,IAAI,CAACc,EAA7B;AACA,WAAKT,QAAL,CAAcgD,OAAd,GAAwBrD,IAAI,CAACqD,OAA7B;AACA,KAzGO;AA0GR;AACAE,YA3GQ,oBA2GCvD,IA3GD,EA2GO;AACd4B,SAAG,CAACkB,SAAJ,CAAc;AACbf,aAAK,EAAE,SADM;AAEbgB,eAAO,EAAE,oBAFI;AAGbS,kBAAU,EAAE,IAHC;AAIbC,mBAAW,EAAE,IAJA;AAKbT,eAAO,EAAE,iBAAAC,GAAG,EAAI;AACf,cAAI,CAACA,GAAG,CAACC,MAAT,EAAiB;AAChB;AACA,gBAAMd,MAAM,GAAG;AACdtB,gBAAE,EAAEd,IAAI,CAACc,EADK;AAEduB,oBAAM,EAAE,OAFM,EAAf;;AAIA,mCAAUD,MAAV,EAAkBG,IAAlB,CAAuB,UAAAmB,KAAK,EAAI;AAC/B,kBAAIA,KAAK,CAAClB,KAAN,IAAe,GAAnB,EAAwB;AACvB,sBAAI,CAAChC,oBAAL;AACA,oBAAMmD,KAAK,GAAG/B,GAAG,CAACgC,cAAJ,CAAmB,UAAnB,EAA+BD,KAA7C;AACA,oBAAIvB,OAAM,GAAG;AACZuB,uBAAK,EAAEE,MAAM,CAACF,KAAD,CAAN,GAAgBE,MAAM,CAAC7D,IAAI,CAAC4C,KAAN,CADjB,EAAb;;AAGA,sCAAWR,OAAX,EAAmBG,IAAnB,CAAwB,UAAAvC,IAAI,EAAI;AAC/B,sBAAIA,IAAI,CAACwC,KAAL,IAAc,GAAlB,EAAuB;AACtB,kDAAYxC,IAAZ,EAAkBuC,IAAlB,CAAuB,UAAAvC,IAAI,EAAI;AAC9B4B,yBAAG,CAACC,SAAJ,CAAc;AACbE,6BAAK,EAAE,MADM,EAAd;;AAGA,qBAJD,EAIGU,KAJH,CAIS,UAAAC,GAAG,EAAI,CAAE,CAJlB;AAKA;AACD,iBARD,EAQGD,KARH,CAQS,UAAAC,GAAG,EAAI,CAAE,CARlB;AASA;AACD,aAjBD,EAiBGD,KAjBH,CAiBS,UAAAC,GAAG,EAAI,CAAE,CAjBlB;AAkBA;AACD,SA/BY,EAAd;;AAiCA,KA7IO;AA8IR;AACAoB,aA/IQ,qBA+IEC,KA/IF,EA+IS;AAChB,WAAKzD,KAAL,CAAW0D,MAAX,CAAkBD,KAAlB,EAAyB,CAAzB;AACA,KAjJO;AAkJR;AACAE,gBAnJQ,wBAmJKtD,CAnJL,EAmJQ;AACfiB,SAAG,CAACqC,YAAJ,CAAiB;AAChBC,eAAO,EAAEvD,CAAC,CAACC,aAAF,CAAgBE,EADT;AAEhBqD,YAAI,EAAE,KAAK7D,KAFK,EAAjB;;AAIA,KAxJO;AAyJR;AACA8D,eA1JQ,uBA0JIzD,CA1JJ,EA0JO;AACdiB,SAAG,CAACwC,WAAJ,CAAgB;AACfC,aAAK,EAAE,CADQ;AAEfC,gBAAQ,EAAE,CAAC,YAAD,CAFK,EAEW;AAC1BC,kBAAU,EAAE,CAAC,OAAD,EAAU,QAAV,CAHG;AAIfvB,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjB,gBAAI,CAAC3C,KAAL,GAAa,MAAI,CAACA,KAAL,CAAWkE,MAAX,CAAkBvB,GAAG,CAACwB,aAAtB,CAAb;AACA,SANc,EAAhB;;AAQA,KAnKO;AAoKR;AACAC,aArKQ,qBAqKEC,IArKF,EAqKQ;AACf,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvClD,WAAG,CAACmD,UAAJ,CAAe;AACd5C,aAAG,EAAE,gDADS;AAEd6C,kBAAQ,EAAEL,IAFI;AAGdrC,cAAI,EAAE,MAHQ;AAIdU,iBAJc,mBAINC,GAJM,EAID;AACZ4B,mBAAO,CAAC5B,GAAG,CAACjD,IAAL,CAAP;AACA,WANa;AAOdiF,cAPc,gBAOTvC,GAPS,EAOJ;AACToC,kBAAM,CAACpC,GAAD,CAAN;AACA,WATa,EAAf;;AAWA,OAZM,CAAP;AAaA,KAnLO;AAoLRwC,kBApLQ,4BAoLS;AAChB,WAAKR,SAAL,CAAe,KAAKpE,KAAL,CAAW,CAAX,CAAf,EAA8BiC,IAA9B,CAAmC,UAAAvC,IAAI,EAAI;AAC1CA,YAAI,GAAGmF,IAAI,CAACC,KAAL,CAAWpF,IAAX,CAAP;AACA,YAAIA,IAAI,CAACgD,OAAL,KAAiB,MAArB,EAA6B;AAC5BpB,aAAG,CAACC,SAAJ,CAAc;AACbC,gBAAI,EAAE,MADO;AAEbC,iBAAK,EAAE,MAFM,EAAd;;AAIA,cAAIsD,IAAI,GAAG;AACVC,iBAAK,EAAE,aAAatF,IAAI,CAACuF,GADf;AAEVC,kBAAM,EAAE,MAAI,CAACnF,QAAL,CAAcgF,IAFZ;AAGVI,gBAAI,EAAE,MAAI,CAACpF,QAAL,CAAcoF,IAHV;AAIVpC,mBAAO,EAAE,MAAI,CAAChD,QAAL,CAAcgD,OAJb,EAAX;;AAMA,cAAMjB,MAAM,GAAG;AACdtB,cAAE,EAAE,MAAI,CAACT,QAAL,CAAc8C,OADJ;AAEdd,kBAAM,EAAE,KAFM,EAAf;;AAIA,qCAAYgD,IAAZ,EAAkB9C,IAAlB,CAAuB,UAAAvC,IAAI,EAAI;AAC9B,kBAAI,CAACI,cAAL,GAAsB,KAAtB;AACA,mCAAUgC,MAAV,EAAkBG,IAAlB,CAAuB,UAAAmB,KAAK,EAAI;AAC/B,kBAAIA,KAAK,CAAClB,KAAN,IAAe,GAAnB,EAAwB;AACvB,sBAAI,CAAChC,oBAAL;AACAoB,mBAAG,CAACC,SAAJ,CAAc;AACbC,sBAAI,EAAE,MADO;AAEbC,uBAAK,EAAE,MAFM,EAAd;;AAIA;AACD,aARD,EAQGU,KARH,CAQS,UAAAC,GAAG,EAAI,CAAE,CARlB;AASA,WAXD,EAWGD,KAXH,CAWS,UAAAC,GAAG,EAAI,CAAE,CAXlB;AAYA;AACD,OA9BD,EA8BGD,KA9BH,CA8BS,UAAAC,GAAG,EAAI,CAAE,CA9BlB;AA+BA,KApNO;AAqNRgD,YArNQ,oBAqNC1F,IArND,EAqNO;AACd,UAAMoC,MAAM,GAAG;AACdtB,UAAE,EAAEd,IAAI,CAACc,EADK;AAEduB,cAAM,EAAE,KAFM,EAAf;;AAIA,6BAAUD,MAAV,EAAkBG,IAAlB,CAAuB,UAAAmB,KAAK,EAAI;AAC/B,YAAIA,KAAK,CAAClB,KAAN,IAAe,GAAnB,EAAwB;AACvB,gBAAI,CAAChC,oBAAL;AACAoB,aAAG,CAACC,SAAJ,CAAc;AACbC,gBAAI,EAAE,MADO;AAEbC,iBAAK,EAAE,MAFM,EAAd;;AAIA;AACD,OARD,EAQGU,KARH,CAQS,UAAAC,GAAG,EAAI,CAAE,CARlB;AASA,KAnOO,EAfK;;AAoPdiD,OAAK,EAAE;AACNxF,UADM,kBACCyF,QADD,EACWC,QADX,EACqB;AAC1B,WAAK7F,IAAL,GAAY,EAAZ;AACA;AACA4B,SAAG,CAACC,SAAJ,CAAc;AACbC,YAAI,EAAE,SADO;AAEbC,aAAK,EAAE,QAFM;AAGb+D,YAAI,EAAE,IAHO;AAIbC,gBAAQ,EAAE,IAJG;AAKb/C,eAAO,EAAE,mBAAM;AACd;AACA,gBAAI,CAACxC,oBAAL;AACA,SARY,EAAd;;AAUA,KAdK,EApPO,E;;;;;;;;;;;;;AC1Gf;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAAA;AAAqF;AAC3B;AACL;;;AAGrD;AACqI;AACrI,gBAAgB,kJAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA;AAAA;AAAyf,CAAgB,6hBAAG,EAAC,C;;;;;;;;;;;;ACA7gB;AAAA;AAAA;AAAA;AAAA;AAAA","file":"pages/orderModel/orders.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\torders\n} from '../../setting/order.js';\nimport {\n\tgetOrderInfoByStatus,\n\tdeleteOrder,\n\tpostOrder\n} from '../../api/orders.js'\nimport {\n\taddEvaluate\n} from '../../api/evaluate.js'\nimport {\n\tappUpdInfo\n} from '../../api/auth.js'\nimport {\n\tputUserInfo\n} from '../../setting/putUserInfo.js'\nconst img = 'http://p0.meituan.net/tdchotel/1938994348a6ade29a5c6bf2fdf02ae15542536.jpg@220w_125h_1e_1c';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ttabBar: orders.tabBar,\n\t\t\ttabCur: 0,\n\t\t\timg: img,\n\t\t\tdata: [],\n\t\t\tevaluateStatus: false,\n\t\t\tevaluate: {},\n\t\t\tfiles: []\n\t\t}\n\t},\n\tonShow() {\n\t\tthis.getOrderInfoByStatus();\n\t},\n\tmethods: {\n\t\ttabSelect(e) {\n\t\t\tthis.tabCur = e.currentTarget.dataset.id\n\t\t},\n\t\t// ListTouch触摸开始\n\t\tTouchStart(e) {\n\t\t\tthis.ListTouchStart = e.touches[0].pageX;\n\t\t\tthis.ListTouchStartY = e.touches[0].pageY;\n\t\t},\n\n\t\t// ListTouch计算方向\n\t\tListTouchMove(e) {\n\t\t\tthis.touchDirection = null;\n\t\t\t/* 在保证y轴上变化不大的情况下，可以进行滑动 */\n\t\t\tif (Math.abs(e.touches[0].pageY - this.ListTouchStartY) < 20 && Math.abs(e.touches[0].pageX - this.ListTouchStart) >\n\t\t\t\t50) {\n\t\t\t\tthis.touchDirection = e.touches[0].pageX - this.ListTouchStart > 0 ? 'right' : 'left';\n\t\t\t}\n\t\t},\n\n\t\t// ListTouch计算滚动\n\t\tListTouchEnd(e) {\n\t\t\tif (this.touchDirection == 'left') {\n\t\t\t\tthis.turnRight();\n\t\t\t} else if (this.touchDirection == 'right') {\n\t\t\t\tthis.turnLeft();\n\t\t\t}\n\t\t},\n\t\tturnRight() {\n\t\t\tthis.tabCur === 5 ?\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: '没有啦，请向左滑'\n\t\t\t\t}) :\n\t\t\t\tthis.tabCur++;\n\t\t},\n\t\tturnLeft() {\n\t\t\tthis.tabCur === 0 ?\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: '没有啦，请向右滑'\n\t\t\t\t}) :\n\t\t\t\tthis.tabCur--;\n\t\t},\n\t\ttoDetails(item) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: 'orderDetails/orderDetails?id=' + item.id\n\t\t\t})\n\t\t},\n\t\tgetOrderInfoByStatus() {\n\t\t\tlet params = {\n\t\t\t\tstatus: this.tabBar[this.tabCur].name\n\t\t\t}\n\t\t\tif (this.tabBar[this.tabCur].name == '全部') {\n\t\t\t\tdelete params.status;\n\t\t\t}\n\t\t\tgetOrderInfoByStatus(params).then(data => {\n\t\t\t\tif (data.errno == 200) {\n\t\t\t\t\tthis.data = data.data\n\t\t\t\t} else {\n\t\t\t\t\tthis.data = []\n\t\t\t\t}\n\t\t\t}).catch(err => {})\n\t\t},\n\t\t// 去支付，跳转到homePay页面之后，验证密码之后，修改状态，返回到订单中心\n\t\tgoPay(data) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../homeModel/homePay/homePay?price=' + data.price + '&id=' + data.id\n\t\t\t})\n\t\t},\n\t\t// 取消订单,将删除待付款的订单\n\t\tgoCancel(data) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '确定要取消订单吗？',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (!res.cancel) {\n\t\t\t\t\t\t// 删除订单信息\n\t\t\t\t\t\tconst params = {\n\t\t\t\t\t\t\torderId: data.id\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdeleteOrder(params).then(data => {\n\t\t\t\t\t\t\tif (data.errno == 200) {\n\t\t\t\t\t\t\t\tthis.getOrderInfoByStatus();\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\ttitle: '取消订单成功'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).catch(err => {})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 再次预订，跳转到酒店\n\t\tgoPayAgain(data) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../homeModel/home?hotelId=' + data.hotelId\n\t\t\t})\n\t\t},\n\t\t// 跳转到评价页面\n\t\tgoEvaluate(data) {\n\t\t\tthis.evaluateStatus = true\n\t\t\tthis.evaluate.orderId = data.id;\n\t\t\tthis.evaluate.hotelId = data.hotelId;\n\t\t},\n\t\t// 退款，直接弹出模态框进行提示，然后修改状态，并将金钱加到余额里\n\t\tgoRefund(data) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '确定要退款吗？',\n\t\t\t\tcontent: '退款之后，房费会自动返回到您的钱包里',\n\t\t\t\tcancelText: '取消',\n\t\t\t\tconfirmText: '确定',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (!res.cancel) {\n\t\t\t\t\t\t// 删除订单信息\n\t\t\t\t\t\tconst params = {\n\t\t\t\t\t\t\tid: data.id,\n\t\t\t\t\t\t\tstatus: '退款/售后'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpostOrder(params).then(data1 => {\n\t\t\t\t\t\t\tif (data1.errno == 200) {\n\t\t\t\t\t\t\t\tthis.getOrderInfoByStatus();\n\t\t\t\t\t\t\t\tconst money = uni.getStorageSync('userInfo').money;\n\t\t\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\t\t\tmoney: Number(money) + Number(data.price)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tappUpdInfo(params).then(data => {\n\t\t\t\t\t\t\t\t\tif (data.errno == 200) {\n\t\t\t\t\t\t\t\t\t\tputUserInfo(data).then(data => {\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '退款成功'\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}).catch(err => {})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}).catch(err => {})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).catch(err => {})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/* 删除图片 */\n\t\tremoveImg(index) {\n\t\t\tthis.files.splice(index, 1)\n\t\t},\n\t\t/* 预览图片 */\n\t\tpreviewImage(e) {\n\t\t\tuni.previewImage({\n\t\t\t\tcurrent: e.currentTarget.id,\n\t\t\t\turls: this.files,\n\t\t\t})\n\t\t},\n\t\t/* 选择图片 */\n\t\tchooseImage(e) {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: ['compressed'], // 可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.files = this.files.concat(res.tempFilePaths)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t/* 上传图片 */\n\t\tuploadImg(file) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tuni.uploadFile({\n\t\t\t\t\turl: \"https://www.sweetqianba.com/fastDfs/uploadFile\",\n\t\t\t\t\tfilePath: file,\n\t\t\t\t\tname: 'file',\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tresolve(res.data)\n\t\t\t\t\t},\n\t\t\t\t\tfail(err) {\n\t\t\t\t\t\treject(err)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tsubmitEvaluate() {\n\t\t\tthis.uploadImg(this.files[0]).then(data => {\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t\tif (data.success === '上传成功') {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '上传成功'\n\t\t\t\t\t})\n\t\t\t\t\tlet info = {\n\t\t\t\t\t\timage: 'https://' + data.URL,\n\t\t\t\t\t\tdetail: this.evaluate.info,\n\t\t\t\t\t\ttype: this.evaluate.type,\n\t\t\t\t\t\thotelId: this.evaluate.hotelId\n\t\t\t\t\t}\n\t\t\t\t\tconst params = {\n\t\t\t\t\t\tid: this.evaluate.orderId,\n\t\t\t\t\t\tstatus: '已完成'\n\t\t\t\t\t}\n\t\t\t\t\taddEvaluate(info).then(data => {\n\t\t\t\t\t\tthis.evaluateStatus = false;\n\t\t\t\t\t\tpostOrder(params).then(data1 => {\n\t\t\t\t\t\t\tif (data1.errno == 200) {\n\t\t\t\t\t\t\t\tthis.getOrderInfoByStatus();\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\ttitle: '评价成功'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).catch(err => {})\n\t\t\t\t\t}).catch(err => {})\n\t\t\t\t}\n\t\t\t}).catch(err => {})\n\t\t},\n\t\tgoFinish(data) {\n\t\t\tconst params = {\n\t\t\t\tid: data.id,\n\t\t\t\tstatus: '待评价'\n\t\t\t}\n\t\t\tpostOrder(params).then(data1 => {\n\t\t\t\tif (data1.errno == 200) {\n\t\t\t\t\tthis.getOrderInfoByStatus();\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '修改成功'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}).catch(err => {})\n\t\t}\n\t},\n\twatch: {\n\t\ttabCur(newValue, oldValue) {\n\t\t\tthis.data = [];\n\t\t\t//弹出弹出框\n\t\t\tuni.showToast({\n\t\t\t\ticon: 'loading',\n\t\t\t\ttitle: '客观，请稍等',\n\t\t\t\tmask: true,\n\t\t\t\tduration: 1000,\n\t\t\t\tsuccess: () => {\n\t\t\t\t\t// 调接口\n\t\t\t\t\tthis.getOrderInfoByStatus();\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t},\n}\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.evaluateStatus = false\n    }\n  }\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./orders.vue?vue&type=template&id=024672ff&\"\nimport script from \"./orders.vue?vue&type=script&lang=js&\"\nexport * from \"./orders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HbuildX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HbuildX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('024672ff', component.options)\n    } else {\n      api.reload('024672ff', component.options)\n    }\n    module.hot.accept(\"./orders.vue?vue&type=template&id=024672ff&\", function () {\n      api.rerender('024672ff', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/2019-暑-课设-前端/frontEnd/hotelAppointment/pages/orderModel/orders.vue\"\nexport default component.exports","import mod from \"-!E:\\\\HbuildX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HbuildX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HbuildX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HbuildX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HbuildX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HbuildX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HbuildX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HbuildX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./orders.vue?vue&type=script&lang=js&\"","export * from \"-!E:\\\\HbuildX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HbuildX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HbuildX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HbuildX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./orders.vue?vue&type=template&id=024672ff&\""],"sourceRoot":""}