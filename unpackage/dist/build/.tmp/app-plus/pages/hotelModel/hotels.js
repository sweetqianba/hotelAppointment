(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/hotelModel/hotels"],{"027c":function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=n(e("7863")),i=e("b910"),c=e("458a");function n(t){return t&&t.__esModule?t:{default:t}}var r="../../static/pagesImgs/wave.gif",l={data:function(){return{waveImg:r,beginDate:"2019-05-06",endDate:"2019-05-07",showCaledar:!1,dateStr:"",dateStrOneDay:"",countNight:0,tabBar:i.hotels.tabBar,tabCur:0,showRangeSlider:!1,choose:i.hotels.choose,star:i.hotels.star,cardCur:0,swiper:i.hotels.swiper,picker:i.hotels.picker,areaIndex:0,area:null,priceIds:null,starIds:null,params:{},pageNum:1,pageSize:10,data:[]}},components:{calendar:s.default},onReachBottom:function(){this.pageNum++,this.params.pageNum++,this.appGetHotelsByToken(this.params)},onLoad:function(t){var a={pageNum:this.pageNum,pageSize:this.pageSize};this.params=a,this.appGetHotelsByToken(this.params)},onBackPress:function(){if(!1!==this.showCaledar)return this.showCaledar=!1,!0},methods:{change:function(t){var a=t.choiceDate,e=t.dayCount;this.dateStr=a[0].re+" 到 "+a[1].re,this.dateStrOneDay=a[0].re,this.countNight="共"+e+"晚"},tabSelect:function(t){this.tabCur=t.currentTarget.dataset.id},pad:function(t,a){return Array(a-(""+t).length+1).join(0)+t},onRangeChange:function(t){this.rangeValues=[t.minValue,t.maxValue]},test:function(){this.rangeValues=[10,60]},goAround:function(){t.navigateTo({url:"around/around"})},cardSwiper:function(t){this.cardCur=t.detail.current},goHotelCenter:function(a){t.showToast({icon:"none",title:"暂未开放"})},goHome:function(a){t.navigateTo({url:"../homeModel/home?hotelId="+a.id})},goResult:function(){var a,e,s,i;this.choose[this.priceIds]&&(s=this.choose[this.priceIds].data,s.indexOf("以")>-1?s.indexOf("下")>-1?e=s.slice(1,4):a=s.slice(1,4):(a=s.slice(1).split("~")[0],e=s.slice(1).split("~")[1])),i=this.star[this.starIds]?this.star[this.starIds].data:void 0;var c=this.dateStr.split("到")[0],n=this.dateStr.split("到")[1],r=c+","+n;t.navigateTo({url:"hotelList/hotelList?area="+this.picker[this.areaIndex]+"&date="+r+"&lowPrice="+a+"&highPrice="+e+"&star="+i+"&type="+this.tabBar[this.tabCur].name+"&nightNum="+this.countNight})},PickerChange:function(t){this.areaIndex=t.detail.value,this.area=this.areaIndex},choosePrice:function(t){this.priceIds=t},chooseStar:function(t){this.starIds=t},appGetHotelsByToken:function(t){var a=this;(0,c.appGetHotelsByToken)(t).then(function(e){e.data?e.data.forEach(function(t){a.data.push(t)}):(0,c.appGetRandomHotels)(t).then(function(t){t.data.forEach(function(t){a.data.push(t)})}).catch(function(t){})}).catch(function(t){})}}};a.default=l}).call(this,e("6e42")["default"])},"0bb7":function(t,a,e){},"0c2c":function(t,a,e){"use strict";var s=e("0bb7"),i=e.n(s);i.a},"6ada":function(t,a,e){"use strict";e("17f3");var s=c(e("b0ce")),i=c(e("7fde"));function c(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(i.default))},"7fde":function(t,a,e){"use strict";e.r(a);var s=e("dacc"),i=e("98cc");for(var c in i)"default"!==c&&function(t){e.d(a,t,function(){return i[t]})}(c);e("0c2c");var n=e("2877"),r=Object(n["a"])(i["default"],s["a"],s["b"],!1,null,null,null);a["default"]=r.exports},"98cc":function(t,a,e){"use strict";e.r(a);var s=e("027c"),i=e.n(s);for(var c in s)"default"!==c&&function(t){e.d(a,t,function(){return s[t]})}(c);a["default"]=i.a},b910:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.hotels=void 0;var s="../../static/pagesImgs/ad01.jpg",i="../../static/pagesImgs/ad02.jpg",c="../../static/pagesImgs/ad03.jpg",n="../../static/pagesImgs/ad04.jpg",r={tabBar:[{id:0,name:"邯郸"},{id:1,name:"小时房"},{id:2,name:"民宿公寓"}],swiper:[{id:0,img:s},{id:1,img:i},{id:2,img:c},{id:3,img:n}],choose:[{id:0,data:"￥100以下"},{id:1,data:"￥100~150"},{id:2,data:"￥150~200"},{id:3,data:"￥200~300"},{id:4,data:"￥300以上"}],star:[{id:0,data:"经济型"},{id:1,data:"舒适型"},{id:2,data:"高档型"},{id:3,data:"豪华型"}],picker:["邯山区","丛台区","复兴区","峰峰矿区","肥乡区","永年区","武安市","临漳县","成安县","大名县","涉县","磁县","邱县","鸡泽县","广平县","馆陶县","魏县","曲周县"]};a.hotels=r},dacc:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",{staticClass:"my-content"},[e("view",{staticClass:"bg-gradual-blue shadow-blur",staticStyle:{width:"auto",height:"620rpx"}}),e("view",{staticClass:"bg-gradual-blue shadow-blur",staticStyle:{"border-radius":"0 0 5px 5px"}},[e("image",{staticClass:"gif-black response",staticStyle:{height:"100rpx","border-radius":"0"},attrs:{src:t.waveImg||"",mode:"scaleToFill"}})]),e("view",{staticClass:"cu-card case margin bg-white",staticStyle:{position:"absolute",width:"690rpx","border-radius":"5px","margin-top":"-720rpx"}},[e("scroll-view",{staticClass:"nav radius",attrs:{"scroll-x":""}},[e("view",{staticClass:"flex text-center"},t._l(t.tabBar,function(a,s){return e("view",{key:s,staticClass:"cu-item flex-sub",class:s===t.tabCur?"text-blue cur":"",attrs:{"data-id":s,eventid:"7dbd89bd-0-"+s},on:{tap:t.tabSelect}},[t._v(t._s(a.name))])}))]),e("calendar",{attrs:{modal:!0,show:t.showCaledar,eventid:"7dbd89bd-1",mpcomid:"7dbd89bd-0"},on:{change:t.change}}),e("view",{staticClass:"cu-modal bottom-modal",class:t.showRangeSlider?"show":"",attrs:{eventid:"7dbd89bd-4"},on:{tap:function(a){t.showRangeSlider=!t.showRangeSlider}}},[e("view",{staticClass:"cu-dialog",attrs:{catchtap:""}},[e("view",{staticClass:"text-left padding-sm"},[t._v("价格")]),e("view",{staticClass:"grid col-3 padding-sm"},t._l(t.choose,function(a,s){return e("view",{key:s,staticClass:"padding-xs"},[e("button",{staticClass:"cu-btn",class:s===t.priceIds?"line-blue":"line-grey",attrs:{eventid:"7dbd89bd-2-"+s},on:{tap:function(a){t.choosePrice(s)}}},[t._v(t._s(a.data))])],1)})),e("view",{staticClass:"text-left",staticStyle:{"padding-left":"20rpx"}},[t._v("星级")]),e("view",{staticClass:"grid col-4 padding-sm"},t._l(t.star,function(a,s){return e("view",{key:s,staticClass:"padding-xs"},[e("button",{staticClass:"cu-btn",class:s===t.starIds?"line-blue":"line-grey",attrs:{eventid:"7dbd89bd-3-"+s},on:{tap:function(a){t.chooseStar(s)}}},[t._v(t._s(a.data))])],1)}))])]),e("view",{staticClass:"cu-list menu card-menu bottom-border"},[e("view",{staticClass:"cu-item"},[e("form",[e("view",{staticClass:"cu-form-group",staticStyle:{padding:"0"}},[e("view",{staticClass:"content"},[t._v("地区")]),e("picker",{attrs:{value:t.areaIndex,range:t.picker,eventid:"7dbd89bd-5"},on:{change:t.PickerChange}},[e("view",{staticClass:"picker"},[t._v(t._s(t.areaIndex?t.picker[t.areaIndex]:"邯山区"))])])],1)])],1),1!==t.tabCur?e("view",{staticClass:"cu-item arrow",attrs:{eventid:"7dbd89bd-7"},on:{tap:function(a){t.showCaledar=!t.showCaledar}}},[e("view",{staticClass:"content"},[e("text",{staticClass:"text-black"},[t._v(t._s(t.dateStr))])]),e("view",{staticClass:"action"},[e("text",{staticClass:"text-black text-sm"},[t._v(t._s(t.countNight))])])]):e("view",{staticClass:"cu-item arrow",attrs:{eventid:"7dbd89bd-6"},on:{tap:function(a){t.showCaledar=!t.showCaledar}}},[e("view",{staticClass:"content"},[e("text",{staticClass:"text-black"},[t._v(t._s(t.dateStrOneDay))])])]),e("view",{staticClass:"cu-item arrow",attrs:{eventid:"7dbd89bd-8"},on:{tap:t.goAround}},[e("view",{staticClass:"content"},[e("text",{staticClass:"text-black"},[t._v("我的附近"),e("text",{staticClass:"text-grey margin-left"},[t._v(t._s(2===t.tabCur?"搜附近民宿/地名/关键词":"搜附近酒店/地名/关键词"))])])])]),1!==t.tabCur?e("view",{staticClass:"cu-item arrow",attrs:{eventid:"7dbd89bd-9"},on:{tap:function(a){t.showRangeSlider=!t.showRangeSlider}}},[e("view",{staticClass:"content"},[0===t.tabCur&&null===t.priceIds&&null===t.starIds?e("text",{staticClass:"text-grey"},[t._v(t._s("设置我喜欢的星级/价格"))]):t._e(),0!==t.tabCur||null===t.priceIds&&null===t.starIds?t._e():e("text",{staticClass:"text-black"},[t._v(t._s(t.choose[t.priceIds]?t.choose[t.priceIds].data:"")+"    "+t._s(t.star[t.starIds]?t.star[t.starIds].data:""))]),2===t.tabCur&&null===t.priceIds?e("text",{staticClass:"text-grey"},[t._v(t._s("设置我喜欢的价格"))]):t._e(),2===t.tabCur&&null!==t.priceIds?e("text",{staticClass:"text-black"},[t._v(t._s(t.choose[t.priceIds]?t.choose[t.priceIds].data:""))]):t._e()])]):t._e(),e("button",{staticClass:"cu-btn bg-blue lg margin",staticStyle:{width:"570rpx"},attrs:{eventid:"7dbd89bd-10"},on:{tap:t.goResult}},[t._v("查找酒店")])],1)],1),e("swiper",{staticClass:"card-swiper square-dot bg-white",staticStyle:{height:"150px"},attrs:{"indicator-dots":"true",circular:"true",autoplay:"true",interval:"5000",duration:"500","indicator-color":"#8799a3","indicator-active-color":"#0081ff",eventid:"7dbd89bd-12"},on:{change:t.cardSwiper}},t._l(t.swiper,function(a,s){return e("swiper-item",{key:s,class:t.cardCur===a.id?"cur":"",attrs:{mpcomid:"7dbd89bd-1-"+s}},[e("view",{staticClass:"bg-img shadow-blur",style:{backgroundImage:"url("+(a.img||"")+")"},attrs:{eventid:"7dbd89bd-11-"+s},on:{tap:function(a){t.goHotelCenter(s)}}})])})),e("view",{staticClass:"cu-card bg-white padding"},[t._m(0),e("view",{staticClass:"cu-card case sweet-margin0"},[e("view",{staticClass:"cu-item shadow",staticStyle:{margin:"0"}},t._l(t.data,function(a,s){return e("view",{key:s,staticClass:"flex justify-between",attrs:{eventid:"7dbd89bd-13-"+s},on:{tap:function(e){t.goHome(a)}}},[e("view",{staticClass:"flex justify-start"},[e("view",{staticClass:"margin-xs radius",staticStyle:{"margin-left":"0"}},[e("view",{staticStyle:{width:"170rpx",overflow:"hidden",position:"relative"}},[e("image",{staticClass:"radius",staticStyle:{height:"230rpx"},attrs:{src:a.images||"",mode:"aspectFill"}})])]),e("view",{staticClass:"flex justify-between radius",staticStyle:{"margin-left":"10px",width:"500rpx"}},[e("view",{staticStyle:{width:"480rpx"}},[e("view",{staticClass:"text-lg"},[e("text",{staticClass:"text-black text-cut"},[t._v(t._s(a.hotelname))]),e("text",{staticClass:"text-sm",staticStyle:{"margin-left":"4px"}},[t._v(t._s(a.type))])]),e("view",{staticClass:"text-sm",staticStyle:{"line-height":"1.5"}},[e("text",{staticClass:"text-blue text-xl"},[t._v(t._s(a.Mark))]),e("text",{staticClass:"text-blue"},[t._v("分")]),e("text",{staticClass:"text-sm text-blue",staticStyle:{"margin-left":"2px"}},[t._v(t._s(a.remark))]),e("text",{staticClass:"text-sm margin-left"},[t._v("5000+人消费")])]),e("view",{staticClass:"text-sm",staticStyle:{"line-height":"1.5"}},[e("text",{},[t._v("距我直线"+t._s(a.distance)+"km，"+t._s(a.areaname))])]),e("view",{staticClass:"flex justify-between"},[e("view",{staticClass:"text-lg",staticStyle:{"line-height":"1.2"}},[e("text",{staticClass:"text-red",staticStyle:{"font-size":"12px"}},[t._v("￥")]),e("text",{staticClass:"text-red text-xxl"},[t._v(t._s(a.minprice))]),e("text",{staticClass:"text-grey fontSize10 marginLeft5"},[t._v("起")]),e("text",{staticClass:"bgTag",staticStyle:{"font-size":"12px"},style:{backgroundImage:"url("+(t.bgTag||"")+")"}},[t._v(t._s(a.tagname[0]))])]),e("view",{},[e("text",{staticClass:"text-red",staticStyle:{"font-size":"12px"}},[t._v(t._s(a.tagname[0]))])])]),e("view",{staticClass:"text-sm solid-bottom"},[e("view",{staticClass:"cu-tag sm line-red fontSize8"},[t._v(t._s(a.tagname[1]))]),a.tagname[2]?e("view",{staticClass:"cu-tag sm line-grey fontSize8"},[t._v(t._s(a.tagname[2]||""))]):t._e()])])])])])}))])])],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",[e("text",{staticClass:"text-black text-bold text-xxl"},[t._v("猜你喜欢")])])}];e.d(a,"a",function(){return s}),e.d(a,"b",function(){return i})}},[["6ada","common/runtime","common/vendor"]]]);