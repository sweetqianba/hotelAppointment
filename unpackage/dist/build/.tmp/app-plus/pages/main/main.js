(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/main/main"],{"11de":function(t,e,a){"use strict";var i=a("abdc"),o=a.n(i);o.a},1985:function(t,e,a){"use strict";a.r(e);var i=a("aa06"),o=a("dff3");for(var s in o)"default"!==s&&function(t){a.d(e,t,function(){return o[t]})}(s);a("11de");var n=a("2877"),c=Object(n["a"])(o["default"],i["a"],i["b"],!1,null,null,null);e["default"]=c.exports},"1d99":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("1985")),o=a("3d24"),s=a("458a");function n(t){return t&&t.__esModule?t:{default:t}}var c="http://p0.meituan.net/tdchotel/1938994348a6ade29a5c6bf2fdf02ae15542536.jpg@220w_125h_1e_1c",l="http://www.sweetqianba.com/group1/M00/00/00/rBsAEVz_TWuALPoBAAAFE_TWZDA213.png",u="http://p0.meituan.net/hotel/afb53273e9dc6b09bf4cf427119e5a58591104.jpg@660w_500h_1e_1c",r="http://p0.meituan.net/hotel/26b031011e46a371444a08123ba307e2674980.png",d="http://p0.meituan.net/hotel/2490b2063966e24538f279760ee0cad3652981.png",g={data:function(){return{loginStatus:!1,modalName:null,ListTouchStart:null,ListTouchStartY:null,touchDirection:null,iconList:o.mainIcon.iconList,swiper:o.mainIcon.swiper,cardCur:0,cards:[{id:0}],img:c,img2:u,img3:r,img4:d,bgTag:l,inputVal:null,params:{},pageNum:1,pageSize:10,data:[]}},components:{leftModel:i.default},onPullDownRefresh:function(){var e=this;setTimeout(function(){t.stopPullDownRefresh(),e.data=[],e.pageNum=1;var a={pageNum:e.pageNum,pageSize:e.pageSize};e.appGetHotelsByToken(a),t.showToast({icon:"none",title:"刷新成功"})},1e3)},onReachBottom:function(){this.pageNum++,this.params.pageNum++,this.appGetHotelsByToken(this.params)},onLoad:function(){var t={pageNum:this.pageNum,pageSize:this.pageSize};this.params=t,this.appGetHotelsByToken(this.params)},onNavigationBarButtonTap:function(e){t.navigateTo({url:"../hotelModel/hotelList/hotelList?name="+this.inputVal})},onNavigationBarSearchInputChanged:function(t){this.inputVal=t.text},onNavigationBarSearchInputConfirmed:function(e){t.navigateTo({url:"../hotelModel/hotelList/hotelList?name="+this.inputVal})},onShow:function(){t.getStorageSync("token")?this.loginStatus=!0:this.loginStatus=!1,this.hideModel()},methods:{hideModel:function(){this.modalName=null},showModel:function(){this.modalName="DrawerModalL"},cardSwiper:function(t){this.cardCur=t.detail.current},TouchStart:function(t){this.ListTouchStart=t.touches[0].pageX,this.ListTouchStartY=t.touches[0].pageY},ListTouchMove:function(t){this.touchDirection=null,Math.abs(t.touches[0].pageY-this.ListTouchStartY)<20&&Math.abs(t.touches[0].pageX-this.ListTouchStart)>50&&(this.touchDirection=t.touches[0].pageX-this.ListTouchStart>0?"right":"left")},ListTouchEnd:function(t){"left"==this.touchDirection?this.hideModel():"right"==this.touchDirection&&this.showModel()},goHotelCenter:function(e){0===e?t.switchTab({url:"../hotelModel/hotels"}):t.showToast({icon:"none",title:"暂未开放"})},goRoom:function(e){t.navigateTo({url:"../homeModel/home?hotelId="+e.id})},appGetHotelsByToken:function(t){var e=this;(0,s.appGetHotelsByToken)(t).then(function(a){console.log(a,"sssssssss"),a.data?a.data.forEach(function(t){e.data.push(t)}):(0,s.appGetRandomHotels)(t).then(function(t){t.data.forEach(function(t){e.data.push(t)})}).catch(function(t){})}).catch(function(t){console.log(t,"eeeeeee")})},goLogin:function(){t.navigateTo({url:"../userModel/login/login"})},goHotel:function(){t.switchTab({url:"../hotelModel/hotels"})},goMovie:function(){t.showToast({icon:"none",title:"暂未开放"})},goNoise:function(){t.showToast({icon:"none",title:"暂未开放"})},goEvaluate:function(){t.navigateTo({url:"../evaluateModel/evaluate"})},goTop:function(){t.showToast({icon:"none",title:"暂未开放"})},goHelp:function(){t.showToast({icon:"none",title:"暂未开放"})},method:function(t){this[t]()}}};e.default=g}).call(this,a("6e42")["default"])},"3d24":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mainIcon=e.leftModel=void 0;var i={loginMenu:[{id:0,name:"钱包",icon:"pay",methods:"goWallet"},{id:1,name:"订单",icon:"form",methods:"goOrders"},{id:2,name:"设置",icon:"settings",methods:"goSetting"},{id:3,name:"退出登录",icon:"refresharrow",methods:"logout"}],noLoginMenu:[{id:0,name:"登录",icon:"people",methods:"login"}]};e.leftModel=i;var o="../../static/pagesImgs/swiperHotel.jpg",s="../../static/pagesImgs/swiperWM.jpg",n="../../static/pagesImgs/swiperFood.jpg",c="../../static/pagesImgs/swiperMovie.jpg",l={iconList:[{icon:"homefill",color:"red",badge:120,name:"民宿",methods:"goHotel"},{icon:"countdownfill",color:"orange",badge:1,name:"钟点房",methods:"goHotel"},{icon:"tagfill",color:"yellow",badge:0,name:"特惠酒店",methods:"goHotel"},{icon:"cardboardfill",color:"olive",badge:22,name:"电影",methods:"goMovie"},{icon:"noticefill",color:"cyan",badge:0,name:"提醒",methods:"goNoise"},{icon:"markfill",color:"blue",badge:0,name:"评价",methods:"goEvaluate"},{icon:"upstagefill",color:"purple",badge:0,name:"排行",methods:"goTop"},{icon:"questionfill",color:"mauve",badge:0,name:"帮助",methods:"goHelp"}],swiper:[{id:0,img:o},{id:1,img:s},{id:2,img:n},{id:3,img:c}]};e.mainIcon=l},6841:function(t,e,a){"use strict";a.r(e);var i=a("1d99"),o=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=o.a},"86f0":function(t,e,a){"use strict";a("17f3");var i=s(a("b0ce")),o=s(a("d0b3"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(o.default))},aa06:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"cu-dialog basis-lg differentWidth",attrs:{catchtap:""}},[a("view",{staticClass:"padding",attrs:{eventid:"63c2d608-0"},on:{tap:t.goUserInfo}},[a("view",{staticClass:"cu-avatar xl round margin-left",style:{backgroundImage:"url("+(t.loginStatus?t.loginImg:t.noLoginImg)+")"}})]),t.loginStatus?a("view",{staticClass:"cu-list menu text-left"},t._l(t.loginMenu,function(e,i){return a("view",{key:i,staticClass:"cu-item arrow",attrs:{eventid:"63c2d608-1-"+i},on:{tap:function(a){t.method(e.methods)}}},[a("view",{staticClass:"content"},[a("text",{staticClass:"text-grey",class:"icon-"+e.icon}),a("text",{staticClass:"text-grey"},[t._v(t._s(e.name))])])])})):t._e(),t.loginStatus?t._e():a("view",{staticClass:"cu-list menu text-left"},t._l(t.noLoginMenu,function(e,i){return a("view",{key:i,staticClass:"cu-item arrow",attrs:{eventid:"63c2d608-2-"+i},on:{tap:function(a){t.method(e.methods)}}},[a("view",{staticClass:"content"},[a("text",{staticClass:"text-grey",class:"icon-"+e.icon}),a("text",{staticClass:"text-grey"},[t._v(t._s(e.name))])])])}))])},o=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},abdc:function(t,e,a){},cb4c:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("3d24"),o="http://www.sweetqianba.com/group1/M00/00/00/rBsAEV0ATOeAXBxrAAAGhv7fj6Y908.png",s={name:"leftModel",props:{status:[Boolean]},data:function(){return{loginStatus:!1,noLoginImg:o,loginImg:null,loginMenu:i.leftModel.loginMenu,noLoginMenu:i.leftModel.noLoginMenu}},beforeMount:function(){var e=t.getStorageSync("token");e?(this.loginStatus=!0,this.loginImg=t.getStorageSync("userInfo").pic):this.loginStatus=!1},methods:{method:function(t){this[t]()},goUserInfo:function(){this.loginStatus?t.switchTab({url:"../userModel/user"}):t.navigateTo({url:"../userModel/login/login"})},goOrders:function(){t.switchTab({url:"../orderModel/orders"})},goSetting:function(){t.navigateTo({url:"../userModel/setting/setting"})},goWallet:function(){t.navigateTo({url:"../userModel/wallet/wallet"})},logout:function(){t.showModal({title:"提示",content:"确定要注销账号吗",success:function(e){e.confirm&&(t.removeStorageSync("token"),t.removeStorageSync("userInfo"),t.showToast({title:"注销成功",success:function(){setTimeout(function(){t.navigateTo({url:"../userModel/login/login"})},500)}}))}})},login:function(){t.navigateTo({url:"../userModel/login/login"})}},watch:{status:function(){var e=t.getStorageSync("token");e?(this.loginStatus=!0,this.loginImg=t.getStorageSync("userInfo").pic):this.loginStatus=!1}}};e.default=s}).call(this,a("6e42")["default"])},d0b3:function(t,e,a){"use strict";a.r(e);var i=a("d11f"),o=a("6841");for(var s in o)"default"!==s&&function(t){a.d(e,t,function(){return o[t]})}(s);var n=a("2877"),c=Object(n["a"])(o["default"],i["a"],i["b"],!1,null,null,null);e["default"]=c.exports},d11f:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"bgWhiteToGrey",staticStyle:{width:"100%"}},[a("view",{staticClass:"content"},[a("view",{staticClass:"cu-list grid col-4 no-border noBg",attrs:{eventid:"3c25115a-1"},on:{touchstart:t.TouchStart,touchmove:t.ListTouchMove,touchend:t.ListTouchEnd}},t._l(t.iconList,function(e,i){return a("view",{key:i,staticClass:"cu-item",attrs:{eventid:"3c25115a-0-"+i},on:{tap:function(a){t.method(e.methods)}}},[a("view",{class:["icon-"+e.icon,"text-"+e.color]},[0!=e.badge?a("view",{staticClass:"cu-tag badge"},[1!=e.badge?a("block",[t._v(t._s(e.badge>99?"99+":e.badge))]):t._e()],1):t._e()]),a("text",[t._v(t._s(e.name))])])})),a("swiper",{staticClass:"card-swiper square-dot",attrs:{"indicator-dots":"true",circular:"true",autoplay:"true",interval:"5000",duration:"500","indicator-color":"#8799a3","indicator-active-color":"#0081ff",eventid:"3c25115a-3"},on:{change:t.cardSwiper}},t._l(t.swiper,function(e,i){return a("swiper-item",{key:i,class:t.cardCur===e.id?"cur":"",attrs:{mpcomid:"3c25115a-0-"+i}},[a("view",{staticClass:"bg-img shadow-blur",style:{backgroundImage:"url("+e.img+")"},attrs:{eventid:"3c25115a-2-"+i},on:{tap:function(e){t.goHotelCenter(i)}}})])})),a("view",{attrs:{eventid:"3c25115a-5"},on:{touchstart:t.TouchStart,touchmove:t.ListTouchMove,touchend:t.ListTouchEnd}},t._l(t.data,function(e,i){return a("view",{key:i,staticClass:"cu-card case margin0",attrs:{eventid:"3c25115a-4-"+i},on:{tap:function(a){t.goRoom(e)}}},[a("view",{staticClass:"cu-item shadow"},[a("view",{staticClass:"flex solid-bottom padding justify-between"},[a("view",{staticClass:"radius leftImg"},[a("view",{staticClass:"text-xl"},[a("text",{staticClass:"text-black text-bold block text-cut"},[t._v(t._s(e.hotelname))])]),a("view",{staticClass:"text-sm flex justify-between"},[a("view",[a("text",{staticClass:"text-yellow"},[t._v(t._s(e.Mark)+"分")]),a("text",{staticClass:"margin-left"},[t._v(t._s(e.areaname))])]),a("view",[a("text",{staticClass:"text-grey"},[t._v(t._s(e.distance)+"km")])])]),a("view",{staticClass:"text-df"},[a("text",{staticClass:"text-red fontSize8"},[t._v("￥")]),a("text",{staticClass:"text-red"},[t._v(t._s(e.minprice))]),a("text",{staticClass:"text-grey fontSize10 marginLeft5"},[t._v("起")]),a("text",{staticClass:"bgTag",style:{backgroundImage:"url("+t.bgTag+")"}},[t._v(t._s(e.tagname[0]))])]),a("view",{staticClass:"text-sm"},t._l(e.tagname.length-1,function(i,o){return a("view",{key:o,staticClass:"cu-tag sm line-grey fontSize8"},[t._v(t._s(e.tagname[i+1]))])}))]),a("view",{staticClass:"margin-xs radius rightImg"},[a("view",{staticClass:"image"},[a("image",{staticClass:"radius",staticStyle:{height:"170rpx"},attrs:{src:e.images,mode:"aspectFill"}})])])])])])})),a("view",{staticClass:"cu-card case margin0",attrs:{eventid:"3c25115a-6"},on:{touchstart:t.TouchStart,touchmove:t.ListTouchMove,touchend:t.ListTouchEnd}},t._l(t.cards,function(e,i){return a("view",{key:e.id,staticClass:"cu-item shadow"},[a("view",{staticClass:"flex solid-bottom padding justify-between"},[a("view",{staticClass:"radius",staticStyle:{width:"100%"}},[t._m(0,!0),t._m(1,!0),a("view",{staticClass:"text-df"},[a("text",{staticClass:"text-red fontSize8"},[t._v("￥")]),a("text",{staticClass:"text-red"},[t._v("79")]),a("text",{staticClass:"text-grey fontSize10 marginLeft5"},[t._v("起")]),a("text",{staticClass:"bgTag",style:{backgroundImage:"url("+t.bgTag+")"}},[t._v("返门票券")]),a("view",{staticClass:"cu-tag sm line-grey fontSize8 margin-left"},[t._v("学校周边")]),a("view",{staticClass:"cu-tag sm line-grey fontSize8"},[t._v("新客超值返现")])]),a("view",{staticClass:"grid col-3 text-center"},[a("view",{staticClass:"image padding2"},[a("image",{staticClass:"radius",attrs:{src:t.img2,mode:"widthFix"}})]),a("view",{staticClass:"image padding2"},[a("image",{staticClass:"radius",attrs:{src:t.img3,mode:"widthFix"}})]),a("view",{staticClass:"image padding2"},[a("image",{staticClass:"radius",attrs:{src:t.img4,mode:"widthFix"}})])])])])])})),a("view",{staticClass:"cu-modal drawer-modal justify-start",class:{show:"DrawerModalL"==t.modalName},attrs:{eventid:"3c25115a-7"},on:{touchstart:t.TouchStart,touchmove:t.ListTouchMove,touchend:t.ListTouchEnd,tap:function(e){t.modalName=""}}},[a("leftModel",{attrs:{status:t.loginStatus,mpcomid:"3c25115a-1"}})],1)],1),t.loginStatus?t._e():a("view",{staticStyle:{position:"fixed",bottom:"0",width:"750rpx",height:"40px",opacity:"0.8",background:"#000000"}},[a("text",{staticClass:"text-white text-lg",staticStyle:{margin:"5px 10px 0 10px"}},[t._v("如果你不登录，我就霸占这里不离开")]),a("button",{staticClass:"cu-btn bg-blue",staticStyle:{"margin-top":"5px"},attrs:{eventid:"3c25115a-8"},on:{tap:t.goLogin}},[t._v("马上登录")])],1)])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"text-xl"},[a("text",{staticClass:"text-black text-bold block text-cut"},[t._v("3D蜡像星空体验馆")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"text-sm flex justify-between"},[a("view",[a("text",{staticClass:"text-yellow"},[t._v("3.9分")]),a("text",{staticClass:"margin-left"},[t._v("龙湖")])]),a("view",[a("text",{staticClass:"text-grey"},[t._v("4.6km")])])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},dff3:function(t,e,a){"use strict";a.r(e);var i=a("cb4c"),o=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=o.a}},[["86f0","common/runtime","common/vendor"]]]);