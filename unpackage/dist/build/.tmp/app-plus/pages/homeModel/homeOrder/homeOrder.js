(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/homeModel/homeOrder/homeOrder"],{3421:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",[s("view",{staticClass:"bg-gradual-blue shadow-blur",staticStyle:{width:"auto",height:"320rpx"}}),s("view",{staticClass:"cu-card case margin bg-white",staticStyle:{position:"absolute",width:"690rpx","border-radius":"5px","margin-top":"-320rpx"}},[s("view",{staticClass:"text-xl",staticStyle:{padding:"15rpx 30rpx"}},[s("text",{staticClass:"text-black"},[t._v(t._s(t.data.name))])]),s("view",{staticClass:"text-grey",staticStyle:{padding:"0 30rpx"}},[t._v(t._s(t.date)+" "+t._s(t.countNight))]),s("view",{staticClass:"text-gray",staticStyle:{padding:"0 30rpx"}},[t._v(t._s(t.data.breakfast)+"."+t._s(t.data.floor))]),t._m(0)]),s("view",{staticClass:"cu-list menu"},[s("view",{staticClass:"cu-item arrow",attrs:{eventid:"0bcaa364-0"},on:{tap:function(e){t.showNumber=!t.showNumber}}},[s("view",{staticClass:"content"},[t._m(1),s("view",{staticClass:"sweet-text-right"},[s("text",{staticClass:"text-black"},[t._v(t._s(t.numberIds+1)+"间")])])])]),t.showNumber?s("view",{staticClass:"grid col-5 padding-sm"},t._l(t.data.houseCount,function(e,a){return s("view",{key:a,staticClass:"padding-xs",attrs:{eventid:"0bcaa364-1-"+a},on:{tap:function(e){t.chooseNumber(a)}}},[s("button",{staticClass:"cu-btn",class:a===t.numberIds?"line-blue":"line-grey"},[t._v(t._s(a+1+"间"))])],1)})):t._e(),s("view",{staticClass:"cu-item arrow"},[s("view",{staticClass:"content"},[t._m(2),s("view",{staticClass:"sweet-text-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"radius",attrs:{type:"text",placeholder:"请输入姓名",name:"input",eventid:"0bcaa364-2"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})])])]),s("view",{staticClass:"cu-item arrow"},[s("view",{staticClass:"content"},[t._m(3),s("view",{staticClass:"sweet-text-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"radius",attrs:{type:"number",placeholder:"请输入联系方式",name:"input",eventid:"0bcaa364-3"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})])])]),s("view",{staticClass:"cu-item arrow",attrs:{eventid:"0bcaa364-4"},on:{tap:function(e){t.showTime=!t.showTime}}},[s("view",{staticClass:"content"},[t._m(4),s("view",{staticClass:"sweet-text-right"},[s("text",{staticClass:"text-black"},[t._v(t._s(t.time[t.timeIds])+"(房间将整晚保留)")])])])]),t.showTime?s("view",{staticClass:"grid col-4 padding-sm"},t._l(t.time,function(e,a){return s("view",{key:a,staticClass:"padding-xs",attrs:{eventid:"0bcaa364-5-"+a},on:{tap:function(e){t.chooseTime(a)}}},[s("button",{staticClass:"cu-btn",class:a===t.timeIds?"line-blue":"line-grey"},[t._v(t._s(e))])],1)})):t._e(),t._m(5),t._m(6)]),s("view",{staticStyle:{position:"fixed",bottom:"0",width:"750rpx",height:"40px",background:"#000000"}},[s("button",{staticClass:"cu-btn bg-white",staticStyle:{height:"100%",width:"50%","border-radius":"0",color:"red"}},[t._v("￥"+t._s(t.price))]),s("button",{staticClass:"cu-btn bg-blue",staticStyle:{height:"100%",width:"50%","border-radius":"0"},attrs:{eventid:"0bcaa364-6"},on:{tap:t.submit}},[t._v("提交订单")])],1)])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticStyle:{background:"#DDDDDD!important"}},[s("view",{staticClass:"cu-item arrow",staticStyle:{padding:"15rpx 30rpx"}},[s("view",{staticClass:"content flex justify-between"},[s("text",{staticClass:"text-grey"},[t._v("预订成功后15分钟内可免费取消")]),s("text",{staticClass:"text-blue"},[t._v("订房必读>")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"sweet-text-left"},[s("text",{staticClass:"text-grey"},[t._v("房间数")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"sweet-text-left"},[s("text",{staticClass:"text-grey"},[t._v("入住人")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"sweet-text-left"},[s("text",{staticClass:"text-grey"},[t._v("联系手机")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"sweet-text-left"},[s("text",{staticClass:"text-grey"},[t._v("预计到店")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cu-item arrow margin-top"},[s("view",{staticClass:"content"},[s("view",{staticClass:"sweet-text-left"},[s("text",{staticClass:"text-grey"},[t._v("抵用券")])]),s("view",{staticClass:"sweet-text-right"},[s("text",{staticClass:"text-black"},[t._v("无可用抵用券")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cu-item arrow margin-top"},[s("view",{staticClass:"content"},[s("view",{staticClass:"sweet-text-left"},[s("text",{staticClass:"text-grey"},[t._v("发票")])]),s("view",{staticClass:"sweet-text-right"},[s("text",{staticClass:"text-black"},[t._v("如需发票，请先与酒店确认可开")])])])])}];s.d(e,"a",function(){return a}),s.d(e,"b",function(){return i})},"59d6":function(t,e,s){"use strict";var a=s("715b"),i=s.n(a);i.a},"715b":function(t,e,s){},"80ee":function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s("a648"),i=s("86a5"),n={data:function(){return{numberIds:0,timeIds:0,showTime:!1,showNumber:!1,data:{},date:null,countNight:0,time:["14:00","18:00","22:00","02:00","06:00","10:00"],account:null,phone:null}},computed:{price:function(){return Number(this.data.price)*(this.numberIds+1)*Number(this.countNight[1])}},onLoad:function(e){var s=this;this.date=e.time,this.countNight=e.countNight;var i=t.getStorageSync("userInfo");this.account=i.account,this.phone=i.telephone;var n={houseId:e.roomId,time:e.time.split("到")[0],num:e.countNight[1]};(0,a.getHouseByHouseId)(n).then(function(t){s.data=t.data,s.data.housenum=Number(s.data.housenum)}).catch(function(t){})},methods:{chooseNumber:function(t){this.numberIds=t},chooseTime:function(t){this.timeIds=t},submit:function(){var e=this,s={house_id:this.data.id,time:this.date.split("到")[0],price:this.price,housenum:this.numberIds+1,daynum:this.countNight[1],telephone:this.phone};(0,i.addOrder)(s).then(function(s){"200"==s.errno?t.navigateTo({url:"../homePay/homePay?price="+e.data.price*(e.numberIds+1)*e.countNight[1]+"&id="+s.data.id}):t.showToast({icon:"none",title:s.errmsg})}).catch(function(t){})}}};e.default=n}).call(this,s("6e42")["default"])},bd22:function(t,e,s){"use strict";s.r(e);var a=s("80ee"),i=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);e["default"]=i.a},d4bd:function(t,e,s){"use strict";s("17f3");var a=n(s("b0ce")),i=n(s("f88d"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(i.default))},f88d:function(t,e,s){"use strict";s.r(e);var a=s("3421"),i=s("bd22");for(var n in i)"default"!==n&&function(t){s.d(e,t,function(){return i[t]})}(n);s("59d6");var c=s("2877"),r=Object(c["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=r.exports}},[["d4bd","common/runtime","common/vendor"]]]);